"use strict";var P=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var Y=Object.prototype.hasOwnProperty;var Z=(i,t)=>{for(var e in t)P(i,e,{get:t[e],enumerable:!0})},j=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K(t))!Y.call(i,o)&&o!==e&&P(i,o,{get:()=>t[o],enumerable:!(n=z(t,o))||n.enumerable});return i};var tt=i=>j(P({},"__esModule",{value:!0}),i);var pt={};Z(pt,{default:()=>J});module.exports=tt(pt);var s=require("react"),y=require("@raycast/api");var C=require("@raycast/api");var f=new C.Cache;var et=require("@raycast/api");var T=require("@raycast/api"),{layout:g,columns:D,itemInset:q,refreshInterval:it}=(0,T.getPreferenceValues)();var V=i=>{let[t,e]=(0,s.useState)(!0),[n,o]=(0,s.useState)([]),[p,E]=(0,s.useState)([]),R=(0,s.useCallback)(async()=>{e(!0);let $=await(0,y.getApplications)(),x=f.get("Quit App"),L=[];typeof x=="string"&&(L=JSON.parse(x));let B=$.filter(M=>!L.some(X=>M.bundleId==X.bundleId));o(L),E(B),e(!1)},[i]);return(0,s.useEffect)(()=>{R()},[R]),{quitApps:n,disQuitApps:p,loading:t}};var U=require("react");var I=require("@raycast/api");var _=require("@raycast/api");var u=require("@raycast/api");var r=require("@raycast/api"),m=require("react/jsx-runtime");function d(){return(0,m.jsxs)(r.ActionPanel.Section,{children:[(0,m.jsx)(r.Action,{icon:r.Icon.Gear,title:"Configure Command",shortcut:{modifiers:["shift","cmd"],key:","},onAction:r.openCommandPreferences}),(0,m.jsx)(r.Action,{icon:r.Icon.Gear,title:"Configure Extension",shortcut:{modifiers:["opt","cmd"],key:","},onAction:r.openExtensionPreferences})]})}var h=require("react/jsx-runtime");function Q(i){let{app:t,apps:e,setRefresh:n}=i,o=e.some(p=>p.path===t.path);return(0,h.jsxs)(u.ActionPanel,{children:[(0,h.jsx)(u.Action,{title:o?"Disable Auto Quit":"Enable Auto Quit",icon:o?u.Icon.XMarkCircle:u.Icon.Circle,onAction:async()=>{let p=[...e];if(o){let E=p.filter(R=>R.path!==t.path);f.set("Quit App",JSON.stringify(E))}else p.push(t),f.set("Quit App",JSON.stringify(p));n(Date.now())}}),(0,h.jsx)(d,{})]})}var b=require("react/jsx-runtime");function N(i){let{setRefresh:t,app:e,apps:n}=i;return(0,b.jsx)(_.List.Item,{title:e.name,icon:{fileIcon:e.path},quickLook:{path:e.path,name:e.name},actions:(0,b.jsx)(Q,{app:e,apps:n,setRefresh:t})})}var A=require("@raycast/api");var l=require("react/jsx-runtime");function S(){return g==="List"?(0,l.jsx)(A.List.EmptyView,{icon:{source:"empty-view-icon.png"},title:"No App",actions:(0,l.jsx)(A.ActionPanel,{children:(0,l.jsx)(d,{})})}):(0,l.jsx)(A.Grid.EmptyView,{icon:{source:"empty-view-icon.png"},title:"No App",actions:(0,l.jsx)(A.ActionPanel,{children:(0,l.jsx)(d,{})})})}var a=require("react/jsx-runtime");function O(i){let{quitApp:t,disQuitApp:e,setRefresh:n,loading:o}=i;return(0,a.jsxs)(I.List,{isLoading:o,searchBarPlaceholder:"Search apps",children:[(0,a.jsx)(S,{}),(0,a.jsx)(I.List.Section,{title:"Quit Apps",children:t.map(p=>(0,a.jsx)(N,{setRefresh:n,app:p,apps:t},p.path))}),(0,a.jsx)(I.List.Section,{title:"Dis Quit Apps",children:e.map(p=>(0,a.jsx)(N,{setRefresh:n,app:p,apps:t},p.path))})]})}var w=require("@raycast/api");var F=require("@raycast/api");var v=require("react/jsx-runtime");function G(i){let{setRefresh:t,app:e,quitApps:n}=i;return(0,v.jsx)(F.Grid.Item,{title:e.name,content:{fileIcon:e.path},quickLook:{path:e.path,name:e.name},actions:(0,v.jsx)(Q,{app:e,apps:n,setRefresh:t})})}var W=i=>!(i!=null&&String(i).length>0);var c=require("react/jsx-runtime");function H(i){let{quitApp:t,disQuitApp:e,setRefresh:n,loading:o}=i;return(0,c.jsxs)(w.Grid,{columns:parseInt(D),inset:W(q)?void 0:q,isLoading:o,searchBarPlaceholder:"Search apps",children:[(0,c.jsx)(S,{}),(0,c.jsx)(w.Grid.Section,{title:"Quit Apps",children:t.map(p=>(0,c.jsx)(G,{setRefresh:n,app:p,quitApps:t},p.path))}),(0,c.jsx)(w.Grid.Section,{title:"Dis Quit Apps",children:e.map(p=>(0,c.jsx)(G,{setRefresh:n,app:p,quitApps:t},p.path))})]})}var k=require("react/jsx-runtime");function J(){let[i,t]=(0,U.useState)(0),{quitApps:e,disQuitApps:n,loading:o}=V(i);return g==="List"?(0,k.jsx)(O,{quitApp:e,disQuitApp:n,setRefresh:t,loading:o}):(0,k.jsx)(H,{quitApp:e,disQuitApp:n,setRefresh:t,loading:o})}
