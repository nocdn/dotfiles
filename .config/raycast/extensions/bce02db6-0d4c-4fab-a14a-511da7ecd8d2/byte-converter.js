"use strict";var C=Object.defineProperty;var K=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var V=Object.prototype.hasOwnProperty;var q=(t,e)=>{for(var n in e)C(t,n,{get:e[n],enumerable:!0})},R=(t,e,n,l)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of S(e))!V.call(t,r)&&r!==n&&C(t,r,{get:()=>e[r],enumerable:!(l=K(e,r))||l.enumerable});return t};var j=t=>R(C({},"__esModule",{value:!0}),t);var G={};q(G,{default:()=>A});module.exports=j(G);var f=require("@raycast/api");var c=require("@raycast/api"),y=require("react/jsx-runtime");function I(t){let{showCommandPreferences:e,showExtensionPreferences:n}=t;return(0,y.jsxs)(c.ActionPanel.Section,{children:[e&&(0,y.jsx)(c.Action,{icon:c.Icon.Gear,title:"Configure Command",shortcut:{modifiers:["shift","cmd"],key:","},onAction:c.openCommandPreferences}),n&&(0,y.jsx)(c.Action,{icon:c.Icon.Gear,title:"Configure Extension",shortcut:{modifiers:["opt","cmd"],key:","},onAction:c.openExtensionPreferences})]})}var g=require("react");var x=(t,e)=>{if(t.length==0)return null;let n=BigInt(0);for(let l of t){let r=parseInt(l,e);if(isNaN(r))return null;n=n*BigInt(e)+BigInt(r)}return n};var B=t=>{let e=t.toString();for(;e.length<3;)e="0"+e;let n=e.length-2;for(e=e.substring(0,n)+"."+e.substring(n);e.at(-1)=="0";)e=e.substring(0,e.length-1);return e.at(-1)=="."&&(e=e.substring(0,e.length-1)),e},w=t=>{let e=t.indexOf(".");if(e==-1)return[x(t,10),BigInt(1)];let n=t.length-e-1,l=t.substring(0,e)+t.substring(e+1),r=BigInt(1);for(let o=0;o<n;o++)r*=BigInt(10);return[x(l,10),r]};var F=require("@raycast/api"),{autoPaste:T,asciiCommaSeparated:H,advanceView:J,advanceViewLocation:Q}=(0,F.getPreferenceValues)();var $=require("@raycast/api");function E(t){let[e,n]=(0,g.useState)(null),[l,r]=(0,g.useState)(null),o=BigInt(100),m=(0,g.useRef)({});(0,g.useEffect)(()=>{T&&$.Clipboard.readText().then(s=>{if(s){s=s.trim();for(let[i,u]of Object.entries(t))if(s.endsWith(i)){let d=s.substring(0,s.length-i.length).trimEnd();P(u,d),m.current[i]?.focus()}}})},[]);let p=()=>{let s=BigInt(1e3);if(e===null)return null;let i=[BigInt(0),null],u=[null,null];for(let[d,h]of Object.entries(t)){let U=BigInt(1)<<BigInt(h),b=o*e/U;b<o*s&&b>i[0]?i=[b,d]:(u[0]===null||b<u[0])&&(u=[b,d])}if(i[1]!==null)return`${B(i[0])} ${i[1]}`;if(u[0]!==null)return`${B(u[0])} ${u[1]}`;throw new Error("Invalid unitToExponent")},O=s=>{if(l!==null&&l.exponent==s)return l.value;if(e===null)return"";let i=BigInt(1)<<BigInt(s);return B(o*e/i)},P=(s,i)=>{r({exponent:s,value:i}),i=i.trim();let[u,d]=w(i);if(u===null)n(null);else{let h=BigInt(1)<<BigInt(s);n(u*h/d)}};return{get:O,set:P,reset:()=>{n(null),r(null)},getBestUnitExpression:p,ref:m}}var k=require("react"),a=require("react/jsx-runtime"),v={bits:0,Bytes:3,KB:13,MB:23,GB:33,TB:43,PB:53,EB:63};function A(){let t=E(v),[e,n]=(0,k.useState)("bits"),l=`${t.get(v[e])} ${e}`,r=t.getBestUnitExpression();return(0,a.jsx)(f.Form,{actions:(0,a.jsxs)(f.ActionPanel,{children:[r!==null&&(0,a.jsx)(f.Action.CopyToClipboard,{title:`Copy ${r}`,content:r}),(0,a.jsx)(f.Action.CopyToClipboard,{title:`Copy ${l}`,content:l,shortcut:{modifiers:["cmd","shift"],key:"enter"}}),(0,a.jsx)(f.ActionPanel.Section,{children:Object.entries(v).map(([o,m],p)=>(0,a.jsx)(f.Action.CopyToClipboard,{title:`Copy ${t.get(m)} ${o}`,content:`${t.get(m)} ${o}`,shortcut:{modifiers:["cmd"],key:`${p+1}`}},o))}),(0,a.jsx)(I,{showCommandPreferences:!1,showExtensionPreferences:!0})]}),children:Object.entries(v).map(([o,m])=>(0,a.jsx)(f.Form.TextField,{id:o,title:o,value:t.get(m),ref:p=>t.ref.current[o]=p,placeholder:"0",onChange:p=>t.set(m,p),onFocus:()=>n(o)},o))})}
