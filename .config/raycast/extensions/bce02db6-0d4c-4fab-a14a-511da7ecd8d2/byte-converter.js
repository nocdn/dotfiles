"use strict";var S=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var H=Object.prototype.hasOwnProperty;var J=(e,t)=>{for(var n in t)S(e,n,{get:t[n],enumerable:!0})},Q=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let f of M(t))!H.call(e,f)&&f!==n&&S(e,f,{get:()=>t[f],enumerable:!(r=_(t,f))||r.enumerable});return e};var W=e=>Q(S({},"__esModule",{value:!0}),e);var X={};J(X,{default:()=>G});module.exports=W(X);var u=require("@raycast/api"),m=require("react");var d=require("react");var y=require("@raycast/api");var b=e=>!(e!=null&&String(e).length>0);var B=async()=>(0,y.getSelectedText)().then(async e=>b(e)?await P():e).catch(async()=>await P()).then(e=>b(e)?"":e).catch(()=>""),V=async()=>P().then(async e=>b(e)?await(0,y.getSelectedText)():e).catch(async()=>await(0,y.getSelectedText)()).then(e=>b(e)?"":e).catch(()=>""),P=async()=>{let e=await y.Clipboard.readText();return e||""};var q=require("@raycast/api"),{autoDetect:K,priorityDetection:$,advanceView:te,advanceViewLocation:ne}=(0,q.getPreferenceValues)();var D=()=>{let[e,t]=(0,d.useState)(""),n=(0,d.useCallback)(async()=>{K&&t($==="selected"?await B():await V())},[]);return(0,d.useEffect)(()=>{n()},[n]),e.trim()};var z=(e,t)=>{let n=e;if(t===0)return n/=8,n;for(let r=t;r>1;r--)n*=1024;for(let r=t;r<1;r++)n/=1024;return n},E=(e,t)=>{let n=e;if(t===0)return n*=8,n;for(let r=1;r<t;r++)n/=1024;for(let r=1;r>t;r--)n*=1024;return n=parseFloat(n.toFixed(2)),n},N=e=>({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"})[e],w=e=>e.charAt(0).toUpperCase()+e.slice(1);var c=require("@raycast/api"),h=require("react/jsx-runtime");function U(e){let{showCommandPreferences:t,showExtensionPreferences:n}=e;return(0,h.jsxs)(c.ActionPanel.Section,{children:[t&&(0,h.jsx)(c.Action,{icon:c.Icon.Gear,title:"Configure Command",shortcut:{modifiers:["shift","cmd"],key:","},onAction:c.openCommandPreferences}),n&&(0,h.jsx)(c.Action,{icon:c.Icon.Gear,title:"Configure Extension",shortcut:{modifiers:["opt","cmd"],key:","},onAction:c.openExtensionPreferences})]})}var a=require("react/jsx-runtime");function G(){let e=["bits","Bytes","KB","MB","GB","TB","PB","EB"],[t,n]=(0,m.useState)(e.reduce((i,o)=>{let p=`set${w(o)}`;return{...i,[o]:0,[p]:L=>{let F=L||"0";F=F.replace(/[^\d.]/g,"");let C=parseFloat(F);if(isNaN(C))return;let x=e.indexOf(o),A=z(C,x);n(R=>{let v={...R};for(let l=0;l<x;l++)v[e[l]]=E(A,l);v[o]=C;for(let l=x+1;l<e.length;l++)v[e[l]]=E(A,l);return v})}}},{})),r=(0,m.useRef)(Array.from({length:e.length})),[f,O]=(0,m.useState)(0),I=D();(0,m.useEffect)(()=>{async function i(){t.setBytes(I)}i().then()},[I]);let k=()=>{let i=e.map(p=>t[p]),o=1e3,s=0;for(;s<e.length-1&&!(i[s]<o);s++);return g(s)},T=()=>g(f),g=i=>{let o=e[i];return`${t[o]} ${o}`};return(0,a.jsx)(u.Form,{actions:(0,a.jsxs)(u.ActionPanel,{children:[(0,a.jsx)(u.Action.CopyToClipboard,{title:`Copy ${k()}`,content:k(),shortcut:{modifiers:[],key:"enter"}}),(0,a.jsx)(u.Action.CopyToClipboard,{title:`Copy ${T()}`,content:T()}),(0,a.jsx)(u.ActionPanel.Section,{children:e.map((i,o)=>{let s=N(o+1);return(0,a.jsx)(u.Action.CopyToClipboard,{title:`Copy ${g(o)}`,content:g(o),shortcut:s?{modifiers:["cmd"],key:s}:void 0},o)})}),(0,a.jsx)(U,{showCommandPreferences:!1,showExtensionPreferences:!0})]}),children:e.map((i,o)=>(0,a.jsx)(u.Form.TextField,{id:i,title:i,value:t[i].toString(),ref:s=>r.current[o]=s,autoFocus:o==1,placeholder:"0",onFocus:()=>{O(o)},onChange:s=>{let p=t[`set${w(i)}`];typeof p=="function"&&p(s)}},i))})}
