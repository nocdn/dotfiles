"use strict";var f=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var X=Object.getOwnPropertyNames;var V=Object.prototype.hasOwnProperty;var M=(e,t)=>{for(var o in t)f(e,o,{get:t[o],enumerable:!0})},O=(e,t,o,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of X(t))!V.call(e,s)&&s!==o&&f(e,s,{get:()=>t[s],enumerable:!(i=H(t,s))||i.enumerable});return e};var D=e=>O(f({},"__esModule",{value:!0}),e);var _={};M(_,{default:()=>B});module.exports=D(_);var n=require("@raycast/api");var c=require("@raycast/api"),d=require("react/jsx-runtime");function h(e){let{showCommandPreferences:t,showExtensionPreferences:o}=e;return(0,d.jsxs)(c.ActionPanel.Section,{children:[t&&(0,d.jsx)(c.Action,{icon:c.Icon.Gear,title:"Configure Command",shortcut:{modifiers:["shift","cmd"],key:","},onAction:c.openCommandPreferences}),o&&(0,d.jsx)(c.Action,{icon:c.Icon.Gear,title:"Configure Extension",shortcut:{modifiers:["opt","cmd"],key:","},onAction:c.openExtensionPreferences})]})}var p=require("react");var g=require("@raycast/api"),{autoPaste:y,asciiCommaSeparated:u,advanceView:Q,advanceViewLocation:W}=(0,g.getPreferenceValues)();var v=e=>{let t="";for(let o=0;o<e.length;o++){let i=e.charCodeAt(o).toString(16),s=4-i.length,a="0".repeat(s);t+="\\u"+a+i}return t},T=e=>{e=e.trim();let t="";return e.split("\\u").forEach(o=>{o!=""&&(t+=String.fromCharCode(parseInt(o,16)))}),t},x=e=>Buffer.from(e,"utf-8").toString("base64"),A=e=>Buffer.from(e.trim(),"base64").toString("utf-8"),S=e=>encodeURIComponent(e).replaceAll("%","\\x"),b=e=>{try{return decodeURIComponent(e.replaceAll("\\x","%"))}catch{return""}},N=e=>{let t="";for(let o of e)u&&t!=""&&(t+=","),t+=o.charCodeAt(0).toString();return t},U=e=>{if(e=e.trim(),u)return e.split(",").map(t=>{let o=parseInt(t);return isNaN(o)?"":String.fromCharCode(o)}).join("");{let t="",o="";for(let i of e){t+=i;let s=parseInt(t);!isNaN(s)&&s>13&&(o+=String.fromCharCode(s),t="")}return o}},P=e=>{if(e.length==0)return"";let t="0x";for(let o of e){let i=o.charCodeAt(0).toString(16).padStart(2,"0");t+=i.length>2?`[${i}]`:i}return t},I=e=>{e=e.trim(),e.startsWith("0x")&&(e=e.substring(2));let t=[],o=0,i=!1;for(let a=0;a<e.length;a++){let l=parseInt(e[a],16);if(isNaN(l)){e[a]=="["?i=!0:e[a]=="]"&&(i=!1,t.push(0),t.push(o),o=0);continue}if(i)o=o*16+l;else{if(t.length==0&&l==0)continue;t.push(l)}}t.length%2==1&&t.unshift(0);let s="";for(let a=0;a<t.length;a+=2)s+=String.fromCharCode(t[a+1]+16*t[a]);return s},w=e=>{try{return decodeURIComponent(e)}catch{return""}},k=encodeURIComponent,E=e=>(e=e.trim(),e.length==0?"":e.replaceAll(";","").split("&#x").map(t=>t.length==0?"":String.fromCharCode(parseInt(t,16))).join("")),F=e=>e.split("").map(t=>{let o=t.charCodeAt(0).toString(16),i=4-o.length;return"&#x"+"0".repeat(i)+o+";"}).join("");var L=require("@raycast/api"),C=[["unicode",T,v],["ascii",U,N],["hex",I,P],["utf8",b,S],["entity",E,F],["base64",A,x],["url",w,k]];function R(){let e={native:""};for(let[t]of C)e[t]="";return e}function G(e,t){if(t.type=="reset")return R();let o={[t.type]:t.value};if(t.type!="native"){let s;for(let[a,l]of C)a==t.type&&(s=l);o.native=s(t.value)}let i=o.native;for(let[s,a,l]of C)s!=t.type&&(o[s]=l(i));return o}function m(){let[e,t]=(0,p.useReducer)(G,null,R);(0,p.useEffect)(()=>{y&&L.Clipboard.readText().then(a=>a?i("native",a):null)},[]);let o=a=>e[a],i=(a,l)=>t({type:a,value:l});return{get:o,set:i,reset:()=>t({type:"reset"})}}var r=require("react/jsx-runtime");function B(){let e=m();return(0,r.jsxs)(n.Form,{actions:(0,r.jsxs)(n.ActionPanel,{children:[(0,r.jsx)(n.Action.CopyToClipboard,{title:"Copy Native",content:e.get("native"),shortcut:{modifiers:["cmd"],key:"1"}}),(0,r.jsxs)(n.ActionPanel.Section,{children:[(0,r.jsx)(n.Action.CopyToClipboard,{title:"Copy Unicode",content:e.get("unicode"),shortcut:{modifiers:["cmd"],key:"2"}}),(0,r.jsx)(n.Action.CopyToClipboard,{title:"Copy Utf-8",content:e.get("utf8"),shortcut:{modifiers:["cmd"],key:"3"}}),(0,r.jsx)(n.Action.CopyToClipboard,{title:"Copy Ascii",content:e.get("ascii"),shortcut:{modifiers:["cmd"],key:"4"}}),(0,r.jsx)(n.Action.CopyToClipboard,{title:"Copy Hex",content:e.get("hex"),shortcut:{modifiers:["cmd"],key:"5"}}),(0,r.jsx)(n.Action.CopyToClipboard,{title:"Copy Entity",content:e.get("entity"),shortcut:{modifiers:["cmd"],key:"6"}}),(0,r.jsx)(n.Action.CopyToClipboard,{title:"Copy Base64",content:e.get("base64"),shortcut:{modifiers:["cmd"],key:"7"}}),(0,r.jsx)(n.Action.CopyToClipboard,{title:"Copy Encoded URL",content:e.get("url"),shortcut:{modifiers:["cmd"],key:"8"}}),(0,r.jsx)(n.Action.CopyToClipboard,{title:"Copy Html Entity",content:e.get("entity"),shortcut:{modifiers:["cmd"],key:"9"}})]}),(0,r.jsx)(n.ActionPanel.Section,{children:(0,r.jsx)(n.Action,{icon:n.Icon.Trash,title:"Clear All",shortcut:{modifiers:["shift","cmd"],key:"backspace"},onAction:e.reset})}),(0,r.jsx)(h,{showCommandPreferences:!0,showExtensionPreferences:!0})]}),children:[(0,r.jsx)(n.Form.TextField,{id:"Native",title:"Native",value:e.get("native"),placeholder:"String",onChange:t=>e.set("native",t)}),(0,r.jsx)(n.Form.TextField,{id:"Unicode",title:"Unicode",value:e.get("unicode"),placeholder:"\\\\u0031",onChange:t=>e.set("unicode",t)}),(0,r.jsx)(n.Form.TextField,{id:"Base64",title:"Base64",value:e.get("base64"),placeholder:"MQ==",onChange:t=>e.set("base64",t)}),(0,r.jsx)(n.Form.TextField,{id:"UTF-8",title:"UTF-8",value:e.get("utf8"),placeholder:"\\\\xE4\\\\xBD\\\\xA0\\\\xE5\\\\xA5\\\\xBD",info:"Letters and numbers will not be transcode to UTF-8",onChange:t=>e.set("utf8",t)}),(0,r.jsx)(n.Form.TextField,{id:"ASCII",title:"ASCII",value:e.get("ascii"),placeholder:"Number",info:"Only ASCII greater than 13 is supported",onChange:t=>e.set("ascii",t)}),(0,r.jsx)(n.Form.TextField,{id:"Hex",title:"Hex",value:e.get("hex"),placeholder:"0x0",onChange:t=>e.set("hex",t)}),(0,r.jsx)(n.Form.TextField,{id:"Encoded URL",title:"Encoded URL",value:e.get("url"),placeholder:"https%3A%2F%2Fwww.raycast.com",info:"URLs encoded with encodeURIComponent",onChange:t=>e.set("url",t)}),(0,r.jsx)(n.Form.TextField,{id:"HTML entity",title:"HTML entity",value:e.get("entity"),placeholder:"&#xXXXX;",info:"HTML entity encoded with &#xXXXX;",onChange:t=>e.set("entity",t)})]})}
