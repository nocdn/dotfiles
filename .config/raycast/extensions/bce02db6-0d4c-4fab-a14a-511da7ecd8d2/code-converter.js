"use strict";var h=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var z=Object.getOwnPropertyNames;var H=Object.prototype.hasOwnProperty;var J=(e,t)=>{for(var i in t)h(e,i,{get:t[i],enumerable:!0})},K=(e,t,i,m)=>{if(t&&typeof t=="object"||typeof t=="function")for(let d of z(t))!H.call(e,d)&&d!==i&&h(e,d,{get:()=>t[d],enumerable:!(m=q(t,d))||m.enumerable});return e};var V=e=>K(h({},"__esModule",{value:!0}),e);var W={};J(W,{default:()=>B});module.exports=V(W);var o=require("@raycast/api"),a=require("react");var c=e=>!(e!=null&&String(e).length>0);var v=e=>{let t=e.charCodeAt(0).toString(16),i=4-t.length;return"0".repeat(i)+t},F=e=>String.fromCharCode(parseInt(e,16)),X=e=>{if(c(e.trim()))return"";let t="";return e.trim().split("\\u").forEach(i=>{c(i)||(t+=F(i))}),t},E=e=>{if(c(e.trim()))return"";let t="";return e.trim().replaceAll(";","").split("&#x").forEach(i=>{c(i)||(t+=F(i))}),t};var p=require("react");var f=require("@raycast/api");var P=async()=>(0,f.getSelectedText)().then(async e=>c(e)?await C():e).catch(async()=>await C()).then(e=>c(e)?"":e).catch(()=>""),w=async()=>C().then(async e=>c(e)?await(0,f.getSelectedText)():e).catch(async()=>await(0,f.getSelectedText)()).then(e=>c(e)?"":e).catch(()=>""),C=async()=>{let e=await f.Clipboard.readText();return e||""};var k=require("@raycast/api"),{autoDetect:D,priorityDetection:N,advanceView:oe,advanceViewLocation:ne}=(0,k.getPreferenceValues)();var R=()=>{let[e,t]=(0,p.useState)(""),i=(0,p.useCallback)(async()=>{D&&t(N==="selected"?await P():await w())},[]);return(0,p.useEffect)(()=>{i()},[i]),e.trim()};var s=require("@raycast/api"),u=require("react/jsx-runtime");function _(e){let{showCommandPreferences:t,showExtensionPreferences:i}=e;return(0,u.jsxs)(s.ActionPanel.Section,{children:[t&&(0,u.jsx)(s.Action,{icon:s.Icon.Gear,title:"Configure Command",shortcut:{modifiers:["shift","cmd"],key:","},onAction:s.openCommandPreferences}),i&&(0,u.jsx)(s.Action,{icon:s.Icon.Gear,title:"Configure Extension",shortcut:{modifiers:["opt","cmd"],key:","},onAction:s.openExtensionPreferences})]})}var n=require("react/jsx-runtime");function B(){let[e,t]=(0,a.useState)(""),[i,m]=(0,a.useState)(""),[d,L]=(0,a.useState)(""),[y,O]=(0,a.useState)(""),[g,G]=(0,a.useState)(""),[x,M]=(0,a.useState)(""),[I,Q]=(0,a.useState)(""),b=R();return(0,a.useEffect)(()=>{async function r(){t(b)}r().then()},[b]),(0,a.useEffect)(()=>{async function r(){try{if(e.includes("\uD800")||e.includes("\uDFFF"))return;let l="",A="",T="";e.split("").forEach(U=>{l+=U.charCodeAt(0);let S=v(U);A+="\\u"+S,T+="&#x"+S+";"}),L(l),m(A),O(encodeURIComponent(e).replaceAll("%","\\x")),G(T),M(Buffer.from(e,"utf-8").toString("base64")),Q(encodeURIComponent(e))}catch(l){console.error(String(l))}}r().then()},[e]),(0,n.jsxs)(o.Form,{actions:(0,n.jsxs)(o.ActionPanel,{children:[(0,n.jsx)(o.Action.CopyToClipboard,{title:"Copy Native",content:e,shortcut:{modifiers:["cmd"],key:"1"}}),(0,n.jsxs)(o.ActionPanel.Section,{children:[(0,n.jsx)(o.Action.CopyToClipboard,{title:"Copy Unicode",content:i,shortcut:{modifiers:["cmd"],key:"2"}}),(0,n.jsx)(o.Action.CopyToClipboard,{title:"Copy UTF-8",content:y,shortcut:{modifiers:["cmd"],key:"3"}}),(0,n.jsx)(o.Action.CopyToClipboard,{title:"Copy ASCII",content:d,shortcut:{modifiers:["cmd"],key:"4"}}),(0,n.jsx)(o.Action.CopyToClipboard,{title:"Copy &#xXXXX;",content:g,shortcut:{modifiers:["cmd"],key:"5"}}),(0,n.jsx)(o.Action.CopyToClipboard,{title:"Copy Base64",content:x,shortcut:{modifiers:["cmd"],key:"6"}}),(0,n.jsx)(o.Action.CopyToClipboard,{title:"Copy Encoded URL",content:I,shortcut:{modifiers:["cmd"],key:"7"}})]}),(0,n.jsx)(o.ActionPanel.Section,{children:(0,n.jsx)(o.Action,{icon:o.Icon.Trash,title:"Clear All",shortcut:{modifiers:["shift","cmd"],key:"backspace"},onAction:()=>{t("")}})}),(0,n.jsx)(_,{showCommandPreferences:!1,showExtensionPreferences:!0})]}),children:[(0,n.jsx)(o.Form.TextField,{id:"Native",title:"Native",value:e,placeholder:"String",onChange:t}),(0,n.jsx)(o.Form.TextField,{id:"Unicode",title:"Unicode",value:i,placeholder:"\\u0031",onChange:r=>{t(X(r))}}),(0,n.jsx)(o.Form.TextField,{id:"Base64",title:"Base64",value:x,placeholder:"MQ==",onChange:r=>{c(r.trim())||t(Buffer.from(r,"base64").toString("utf-8"))}}),(0,n.jsx)(o.Form.TextField,{id:"UTF-8",title:"UTF-8",value:y,placeholder:"\\xE4\\xBD\\xA0\\xE5\\xA5\\xBD",info:"Letters and numbers will not be transcode to UTF-8",onChange:r=>{try{t(decodeURIComponent(r.replaceAll("\\x","%")))}catch(l){console.error(String(l))}}}),(0,n.jsx)(o.Form.TextField,{id:"ASCII",title:"ASCII",value:d,placeholder:"Number",info:"Only ASCII greater than 13 is supported",onChange:r=>{!c(r.trim())&&Number(r.trim())>13&&t(String.fromCharCode(Number(r.trim())))}}),(0,n.jsx)(o.Form.TextField,{id:"&#xXXXX;",title:"&#xXXXX;",value:g,placeholder:"&#xXXXX;",info:"Chinese to &#xXXXX;",onChange:r=>{c(r.trim())||t(E(r))}}),(0,n.jsx)(o.Form.TextField,{id:"Encoded URL",title:"Encoded URL",value:I,placeholder:"https%3A%2F%2Fwww.raycast.com",info:"URLs encoded with encodeURIComponent",onChange:r=>{c(r.trim())||t(decodeURIComponent(r))}})]})}
